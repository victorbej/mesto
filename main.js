(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var n,r;return n=t,(r=[{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"addPlaceCard",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deletePlaceCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"addNewItem",value:function(e){this._container.prepend(e)}},{key:"renderer",value:function(e){var t=this;this._container.innerHTML="",this._renderedItems.forEach((function(n){t._renderer(n,e)}))}},{key:"setRenderedItems",value:function(e){this._renderedItems=e}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r){var o=r.handleCardClick,i=r.handleCardDelete,a=r.handleCardLike,c=r.userData;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._data=t,this._cardSelector=n,this._handleCardClick=o,this._handleCardDelete=i,this._handleCardLike=a,this._userData=c}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".gallery__list").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".gallery__list-title").textContent=this._name,this._picture=this._element.querySelector(".gallery__list-image"),this._picture.src=this._link,this._picture.alt=this._name,this._setEventListeners(),this._setDeleteItem(),this.setLike(this._data),this._element}},{key:"_setDeleteItem",value:function(){this._userData._id!==this._data.owner._id&&this._element.querySelector(".gallery__delete-button").remove()}},{key:"checkLike",value:function(){var e=this;return this._data.likes.some((function(t){return t._id==e._userData._id}))}},{key:"setLike",value:function(e){this._data=e,this._element.querySelector(".gallery__likes-count").textContent=this._data.likes.length,this.checkLike()?this._element.querySelector(".gallery__like-button").classList.add("gallery__like-button_active"):this._element.querySelector(".gallery__like-button").classList.remove("gallery__like-button_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".gallery__like-button").addEventListener("click",(function(){e._handleCardLike(e._data._id)})),this._element.querySelector(".gallery__delete-button").addEventListener("click",(function(){e._handleCardDelete(e._element,e._data._id)})),this._element.querySelector(".gallery__list-image").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=t.id,r=t.nameSelector,o=t.aboutSelector,i=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=n,this._nameSelector=r,this._aboutSelector=o,this._avatarSelector=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{_id:this._id,nameSelector:this._nameSelector.textContent,aboutSelector:this._aboutSelector.textContent,avatarSelector:this._avatarSelector}}},{key:"setUserInfo",value:function(e,t,n,r){this._id=e,this._nameSelector.textContent=t,this._aboutSelector.textContent=n,this._avatarSelector.src=r}}])&&a(t.prototype,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=n,this._inputSelector=t.inputSelector,this._inputInvalidClass=t.inputInvalidClass,this._submitButtonSelector=t.submitButtonSelector,this._buttonInvalidClass=t.buttonInvalidClass,this._formfield=document.querySelector(this._formSelector),this._submitButtonState=this._formfield.querySelector(this._submitButtonSelector),this._inputList=this._formfield.querySelectorAll(this._inputSelector)}var t,n;return t=e,(n=[{key:"_showError",value:function(e){this._formfield.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._inputInvalidClass)}},{key:"_hideError",value:function(e){this._formfield.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._inputInvalidClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_setButtonState",value:function(){this._formfield.checkValidity()?(this._submitButtonState.classList.remove(this._buttonInvalidClass),this._submitButtonState.disabled=!1):(this._submitButtonState.classList.add(this._buttonInvalidClass),this._submitButtonState.disabled=!0)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._setButtonState(e._submitButtonState,e._formfield.checkValidity())}))}))}},{key:"enableValidation",value:function(){this._setEventListeners(),this._setButtonState(this._submitButtonState,this._formfield.checkValidity())}},{key:"toResetValididation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideError(t)})),this._setButtonState()}}])&&u(t.prototype,n),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=function(e){"Escape"===e.key&&n.close()},this._handleOverlayClose=function(e){e.target.classList.contains("popup")&&n.close()}}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close-button").addEventListener("click",(function(){return e.close()}))}}])&&s(t.prototype,n),e}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._pictureItem=t._popup.querySelector(".popup__picture"),t._pictureText=t._popup.querySelector(".popup__picture-text"),t}return t=a,(n=[{key:"open",value:function(e,t){this._pictureText.alt=e,this._pictureText.textContent=e,this._pictureItem.src=t,h(m(a.prototype),"open",this).call(this)}}])&&d(t.prototype,n),a}(f);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e){var t,n=e.containerSelector,r=e.handleSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleSubmit=r,t._formfield=t._popup.querySelector(".popup__formfield"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this._popup.querySelectorAll(".popup__formfield-input"),t={};return e.forEach((function(e){return t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var e=this;k(C(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit(e._getInputValues())}))}},{key:"close",value:function(){k(C(a.prototype),"close",this).call(this),this._formfield.reset()}}])&&S(t.prototype,n),a}(f);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function a(e){var t,n=e.containerSelector,r=e.handleSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleSubmit=r,t._formfield=t._popup.querySelector(".popup__formfield"),t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit(e._cardId)})),j(q(a.prototype),"setEventListeners",this).call(this)}},{key:"open",value:function(e){j(q(a.prototype),"open",this).call(this),this._cardId=e}},{key:"close",value:function(){j(q(a.prototype),"close",this).call(this),this._formfield.reset()}}])&&O(t.prototype,n),a}(f),T=document.querySelector(".profile__title"),D=document.querySelector(".profile__text"),x=document.querySelector(".profile__image"),B=".popup_reduction-window",U=".popup_download-avatar",V=".popup_initial-cards-window",A=document.querySelector(".profile__reduction-button"),N=document.querySelector(".profile__image-edit"),H=document.querySelector(".profile__add-button"),J=document.querySelector(".popup__formfield_profile"),M=document.querySelector(".popup__formfield_download-avatar"),z=(document.querySelector(".popup__formfield_add-card"),J.querySelector(".popup__formfield-input_name")),$=J.querySelector(".popup__formfield-input_job"),F=M.querySelector(".popup__formfield-input_avatar"),G={formSelector:".popup__formfield",inputSelector:".popup__formfield-input",inputInvalidClass:"popup__formfield-input_error",submitButtonSelector:".popup__save-button",buttonInvalidClass:"popup__save-button_invalid"};function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){document.querySelector(e).querySelector(".popup__save-button").textContent=t?"Загрузка…":"Сохранить"}function W(e,t,n){var r=new i(e,t,{handleCardClick:function(e,t){Z.open(e,t)},handleCardDelete:function(e,t){ae.open({element:e,cardId:t})},handleCardLike:function(e){r.checkLike()?X.deleteLike(e).then((function(e){r.setLike(e)})).catch((function(e){console.log(e)})):X.addLike(e).then((function(e){r.setLike(e)})).catch((function(e){console.log(e)}))},userData:n});return r}var X=new t({url:"https://mesto.nomoreparties.co/v1/cohort-20/",headers:{"Content-Type":"application/json",authorization:"3b5720a2-0d91-4d09-b4f0-91da5b71591f"}}),Y=new c({nameSelector:T,aboutSelector:D,avatarSelector:x}),Z=new v(".popup_big-window-picture"),ee=new l(G,".popup__formfield_profile"),te=new l(G,".popup__formfield_download-avatar"),ne=new l(G,".popup__formfield_add-card"),re=new E({containerSelector:B,handleSubmit:function(e){Q(B,!0),X.editUserInfo({name:e["name-input"],about:e.about}).then((function(e){Y.setUserInfo(e._id,e.name,e.about,e.avatar),re.close(),Q(B,!1)})).catch((function(e){console.log(e)})).finally((function(){Q(B,!1)}))}}),oe=new E({containerSelector:U,handleSubmit:function(e){Q(U,!0),X.editAvatar(e["place-avatar"]).then((function(e){Y.setUserInfo(e._id,e.name,e.about,e.avatar),oe.close(),Q(U,!1)})).catch((function(e){console.log(e)})).finally((function(){Q(U,!1)}))}}),ie=new E({containerSelector:V,handleSubmit:function(e){Q(V,!0),X.addPlaceCard({name:e["place-input"],link:e["place-link"]}).then((function(e){var t=W(e,"#temp",Y.getUserInfo()).generateCard();ce.addNewItem(t),Q(V,!1),ie.close()})).catch((function(e){console.log(e)})).finally((function(){Q(V,!1)}))}}),ae=new R({containerSelector:".popup_delete-cofirm",handleSubmit:function(e){var t=e.element,n=e.cardId;X.deletePlaceCard(n).then((function(){t.remove(),ae.close()})).catch((function(e){console.log(e)}))}}),ce=new r({data:{},renderer:function(e,t){var n=W(e,"#temp",t).generateCard();ce.addItem(n)}},".gallery__lists");Promise.all([X.getInitialCards(),X.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Y.setUserInfo(i._id,i.name,i.about,i.avatar),ce.setRenderedItems(o),ce.renderer(i)})).catch((function(e){console.log(e)})),A.addEventListener("click",(function(){re.open(),z.value=Y.getUserInfo().nameSelector,$.value=Y.getUserInfo().aboutSelector,ee.toResetValididation()})),N.addEventListener("click",(function(){oe.open(),F.value=Y.getUserInfo().avatarSelector.src,te.toResetValididation()})),H.addEventListener("click",(function(){ie.open(),ne.toResetValididation()})),ie.setEventListeners(),re.setEventListeners(),oe.setEventListeners(),ae.setEventListeners(),Z.setEventListeners(),ee.enableValidation(),te.enableValidation(),ne.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtRGVsZXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJBcGkiLCJjb25maWciLCJ0aGlzIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJhdmF0YXIiLCJsaW5rIiwiY2FyZCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJ1c2VyRGF0YSIsImlubmVySFRNTCIsImZvckVhY2giLCJpdGVtIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVDYXJkTGlrZSIsIl9uYW1lIiwiX2xpbmsiLCJfZGF0YSIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfaGFuZGxlQ2FyZExpa2UiLCJfdXNlckRhdGEiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJ0ZXh0Q29udGVudCIsIl9waWN0dXJlIiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3NldERlbGV0ZUl0ZW0iLCJzZXRMaWtlIiwiX2lkIiwib3duZXIiLCJyZW1vdmUiLCJsaWtlcyIsInNvbWUiLCJsZW5ndGgiLCJjaGVja0xpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiVXNlckluZm8iLCJpZCIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lU2VsZWN0b3IiLCJfYWJvdXRTZWxlY3RvciIsIl9hdmF0YXJTZWxlY3RvciIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX2lucHV0SW52YWxpZENsYXNzIiwiaW5wdXRJbnZhbGlkQ2xhc3MiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9idXR0b25JbnZhbGlkQ2xhc3MiLCJidXR0b25JbnZhbGlkQ2xhc3MiLCJfZm9ybWZpZWxkIiwiX3N1Ym1pdEJ1dHRvblN0YXRlIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dCIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwiY2hlY2tWYWxpZGl0eSIsImRpc2FibGVkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRCdXR0b25TdGF0ZSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImV2ZW50Iiwia2V5IiwiY2xvc2UiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcGljdHVyZUl0ZW0iLCJfcGljdHVyZVRleHQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0IiwiX2hhbmRsZVN1Ym1pdCIsInBvcHVwSW5wdXRMaXN0IiwidmFsdWUiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybURlbGV0ZSIsIl9jYXJkSWQiLCJwb3B1cEVkaXQiLCJwb3B1cEVkaXRBdmF0YXIiLCJwdXB1cEluaXRpYWxDYXJkcyIsInJlZHVjdGlvbkJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiZm9ybWZpZWxkUHJvZmlsZSIsImZvcm1maWVsZEF2YXRhciIsImlucHV0TmFtZSIsImlucHV0Sm9iIiwiaW5wdXRBdmF0YXIiLCJ2YWxpZGF0aW9uQ29uZmlnIiwidG9Mb2FkIiwicG9wdXAiLCJsb2FkaW5nIiwiY3JlYXRlQ2FyZCIsInBvcHVwQmlnUGljdHVyZSIsIm9wZW4iLCJjYXJkSWQiLCJkZWxldGVDYXJkUG9wdXAiLCJhcGkiLCJkZWxldGVMaWtlIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhZGRMaWtlIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwicHJvZmlsZVZhbGlkYXRpb24iLCJhdmF0YXJWYWxpZGF0aW9uIiwicGxhY2VWYWxpZGF0aW9uIiwicHJvZmlsZUVkaXRQb3B1cCIsImVkaXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsImF2YXRhckVkaXRQb3B1cCIsImVkaXRBdmF0YXIiLCJhZGRDYXJkUG9wdXAiLCJhZGRQbGFjZUNhcmQiLCJjYXJkRWxlbWVudCIsImdldFVzZXJJbmZvIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZExpc3QiLCJhZGROZXdJdGVtIiwiZGVsZXRlUGxhY2VDYXJkIiwiYWRkSXRlbSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImluaXRhbENhcmRzIiwidXNlclJlc3VsdCIsInNldFJlbmRlcmVkSXRlbXMiLCJ0b1Jlc2V0VmFsaWRpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJlbmFibGVWYWxpZGF0aW9uIl0sIm1hcHBpbmdzIjoiNkxBQXFCQSxFLFdBQ25CLFdBQVlDLEksNEZBQVEsU0FDbEJDLEtBQUtDLEtBQU9GLEVBQU9HLElBQ25CRixLQUFLRyxTQUFXSixFQUFPSyxRLGdEQUd6QixXQUNFLE9BQU9DLE1BQU0sR0FBRCxPQUFJTCxLQUFLQyxLQUFULFlBQXlCLENBQ25DRyxRQUFTSixLQUFLRyxXQUViRyxNQUFLLFNBQUFDLEdBQ0osT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUixrQkFBMEJKLEVBQUlLLGMsMEJBSTNDLFNBQWFDLEdBQ1gsT0FBT1IsTUFBTSxHQUFELE9BQUlMLEtBQUtDLEtBQVQsWUFBeUIsQ0FDbkNhLE9BQVEsUUFDUlYsUUFBU0osS0FBS0csU0FDZFksS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkMsS0FBTUwsRUFBS0ssS0FDWEMsTUFBT04sRUFBS00sVUFHYmIsTUFBSyxTQUFBQyxHQUNKLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVIsa0JBQTBCSixFQUFJSyxjLHdCQUkzQyxTQUFXUSxHQUNULE9BQU9mLE1BQU0sR0FBRCxPQUFJTCxLQUFLQyxLQUFULG1CQUFnQyxDQUMxQ2EsT0FBUSxRQUNSVixRQUFTSixLQUFLRyxTQUNkWSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CRyxPQUFRQSxNQUdUZCxNQUFL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bGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9dXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhcihhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9dXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhclxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBhZGRQbGFjZUNhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlUGxhY2VDYXJkKGNhcmQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHMvJHtjYXJkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy9saWtlcy8ke2NhcmR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShjYXJkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzL2xpa2VzLyR7Y2FyZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3SXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcmVyKHVzZXJEYXRhKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0sIHVzZXJEYXRhKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0UmVuZGVyZWRJdGVtcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcclxuICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkRGVsZXRlLCBoYW5kbGVDYXJkTGlrZSwgdXNlckRhdGEgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XHJcbiAgICAgICAgdGhpcy5fdXNlckRhdGEgPSB1c2VyRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saXN0JylcclxuICAgICAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saXN0LXRpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX3BpY3R1cmUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saXN0LWltYWdlJyk7XHJcbiAgICAgICAgdGhpcy5fcGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgICAgIHRoaXMuX3BpY3R1cmUuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9zZXREZWxldGVJdGVtKCk7XHJcbiAgICAgICAgdGhpcy5zZXRMaWtlKHRoaXMuX2RhdGEpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RGVsZXRlSXRlbSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fdXNlckRhdGEuX2lkICE9PSB0aGlzLl9kYXRhLm93bmVyLl9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19kZWxldGUtYnV0dG9uJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrTGlrZSgpIHtcclxuICAgICAgICBjb25zdCBjaGVja0lkID0gKGl0ZW0pID0+IGl0ZW0uX2lkID09IHRoaXMuX3VzZXJEYXRhLl9pZDtcclxuICAgICAgICBjb25zdCBpc0xpa2VkID0gdGhpcy5fZGF0YS5saWtlcy5zb21lKGNoZWNrSWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gaXNMaWtlZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saWtlcy1jb3VudCcpLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNoZWNrTGlrZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnZ2FsbGVyeV9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fbGlrZS1idXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdnYWxsZXJ5X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2xpa2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMuX2RhdGEuX2lkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19kZWxldGUtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5fZWxlbWVudCwgdGhpcy5fZGF0YS5faWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2xpc3QtaW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgaWQsIG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fbmFtZVNlbGVjdG9yID0gbmFtZVNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2Fib3V0U2VsZWN0b3IgPSBhYm91dFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yID0gYXZhdGFyU2VsZWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckluZm8gPSB7XHJcbiAgICAgICAgICAgIF9pZDogdGhpcy5faWQsXHJcbiAgICAgICAgICAgIG5hbWVTZWxlY3RvcjogdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBhYm91dFNlbGVjdG9yOiB0aGlzLl9hYm91dFNlbGVjdG9yLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBhdmF0YXJTZWxlY3RvcjogdGhpcy5fYXZhdGFyU2VsZWN0b3JcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB1c2VySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyhpZCwgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50ID0gbmFtZVNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2Fib3V0U2VsZWN0b3IudGV4dENvbnRlbnQgPSBhYm91dFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yLnNyYyA9IGF2YXRhclNlbGVjdG9yO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1TZWxlY3Rvcikge1xyXG4gICAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBmb3JtU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgICAgdGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MgPSBjb25maWcuaW5wdXRJbnZhbGlkQ2xhc3M7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9idXR0b25JbnZhbGlkQ2xhc3MgPSBjb25maWcuYnV0dG9uSW52YWxpZENsYXNzO1xyXG4gICAgICB0aGlzLl9mb3JtZmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2Zvcm1TZWxlY3Rvcik7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblN0YXRlID0gdGhpcy5fZm9ybWZpZWxkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtZmllbGQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9zaG93RXJyb3IoaW5wdXQpIHtcclxuICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtZmllbGQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGVycm9yLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVFcnJvcihpbnB1dCkge1xyXG4gICAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm1maWVsZC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgICAgZXJyb3IudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEludmFsaWRDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCk7XHJcbiAgICAgIH07XHJcbiAgfVxyXG5cclxuICBfc2V0QnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgIGlmICh0aGlzLl9mb3JtZmllbGQuY2hlY2tWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TdGF0ZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2J1dHRvbkludmFsaWRDbGFzcyk7XHJcbiAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TdGF0ZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU3RhdGUuY2xhc3NMaXN0LmFkZCh0aGlzLl9idXR0b25JbnZhbGlkQ2xhc3MpO1xyXG4gICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU3RhdGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB9O1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUodGhpcy5fc3VibWl0QnV0dG9uU3RhdGUsIHRoaXMuX2Zvcm1maWVsZC5jaGVja1ZhbGlkaXR5KCkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUodGhpcy5fc3VibWl0QnV0dG9uU3RhdGUsIHRoaXMuX2Zvcm1maWVsZC5jaGVja1ZhbGlkaXR5KCkpO1xyXG4gIH1cclxuXHJcbiAgdG9SZXNldFZhbGlkaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUoKTtcclxuICB9O1xyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9waWN0dXJlSXRlbSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGljdHVyZScpO1xyXG4gICAgdGhpcy5fcGljdHVyZVRleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3BpY3R1cmUtdGV4dCcpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9waWN0dXJlVGV4dC5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcGljdHVyZVRleHQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcGljdHVyZUl0ZW0uc3JjID0gbGluaztcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lclNlbGVjdG9yLCBoYW5kbGVTdWJtaXQgfSkge1xyXG4gICAgc3VwZXIoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybWZpZWxkID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtZmllbGQnKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IHBvcHVwSW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19mb3JtZmllbGQtaW5wdXQnKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIHBvcHVwSW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtZmllbGQucmVzZXQoKTtcclxuICB9XHJcbiAgXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1EZWxldGUgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lclNlbGVjdG9yLCBoYW5kbGVTdWJtaXQgfSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybWZpZWxkID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtZmllbGQnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fY2FyZElkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oaXRlbSkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybWZpZWxkLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGNvbnN0IG5hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5leHBvcnQgY29uc3QgYWJvdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190ZXh0Jyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbWFnZScpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdCA9ICcucG9wdXBfcmVkdWN0aW9uLXdpbmRvdyc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRBdmF0YXIgPSAnLnBvcHVwX2Rvd25sb2FkLWF2YXRhcic7XHJcbmV4cG9ydCBjb25zdCBwdXB1cEluaXRpYWxDYXJkcyA9ICcucG9wdXBfaW5pdGlhbC1jYXJkcy13aW5kb3cnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBEZWxldGUgPSAnLnBvcHVwX2RlbGV0ZS1jb2Zpcm0nO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlZHVjdGlvbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19yZWR1Y3Rpb24tYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1maWVsZFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1maWVsZF9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtZmllbGRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1maWVsZF9kb3dubG9hZC1hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1maWVsZFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtZmllbGRfYWRkLWNhcmQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBmb3JtZmllbGRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybWZpZWxkLWlucHV0X25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0Sm9iID0gZm9ybWZpZWxkUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1maWVsZC1pbnB1dF9qb2InKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QXZhdGFyID0gZm9ybWZpZWxkQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybWZpZWxkLWlucHV0X2F2YXRhcicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gJy5nYWxsZXJ5X19saXN0cyc7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm1maWVsZCcsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9fZm9ybWZpZWxkLWlucHV0JyxcclxuICBpbnB1dEludmFsaWRDbGFzczogJ3BvcHVwX19mb3JtZmllbGQtaW5wdXRfZXJyb3InLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zYXZlLWJ1dHRvbicsXHJcbiAgYnV0dG9uSW52YWxpZENsYXNzOiAncG9wdXBfX3NhdmUtYnV0dG9uX2ludmFsaWQnXHJcbn07IiwiLy9zdHlsZXNcclxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG4vL3NjcmlwdHNcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybURlbGV0ZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1EZWxldGUuanMnO1xyXG5cclxuLy9jb25zdGFudHNcclxuaW1wb3J0IHtcclxuICBuYW1lU2VsZWN0b3IsXHJcbiAgYWJvdXRTZWxlY3RvcixcclxuICBhdmF0YXJTZWxlY3RvcixcclxuICBwb3B1cEVkaXQsXHJcbiAgcG9wdXBFZGl0QXZhdGFyLFxyXG4gIHB1cHVwSW5pdGlhbENhcmRzLFxyXG4gIHBvcHVwRGVsZXRlLFxyXG4gIHJlZHVjdGlvbkJ1dHRvbixcclxuICBlZGl0QXZhdGFyQnV0dG9uLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0Sm9iLFxyXG4gIGlucHV0QXZhdGFyLFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHZhbGlkYXRpb25Db25maWdcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuLy9leHRyYSBmdW5jdGlvbnNcclxuZnVuY3Rpb24gdG9Mb2FkKHBvcHVwLCBsb2FkaW5nKSB7XHJcbiAgY29uc3Qgc2F2ZUxvYWRpbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XHJcblxyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICBzYXZlTG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudCA9ICfQl9Cw0LPRgNGD0LfQutCw4oCmJztcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBzYXZlTG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xyXG4gIH1cclxufVxyXG5cclxuLy9jYXJkXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSwgY2FyZFNlbGVjdG9yLCB1c2VyRGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGEsXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKG5hbWUsIGxpbmspID0+IHtcclxuICAgICAgICBwb3B1cEJpZ1BpY3R1cmUub3BlbihuYW1lLCBsaW5rKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlQ2FyZERlbGV0ZTogKGVsZW1lbnQsIGNhcmRJZCkgPT4ge1xyXG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKHsgZWxlbWVudCwgY2FyZElkIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVDYXJkTGlrZTogKGNhcmRJZCkgPT4ge1xyXG4gICAgICAgIGlmIChjYXJkLmNoZWNrTGlrZSgpKSB7XHJcbiAgICAgICAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FyZC5zZXRMaWtlKGRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBpLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQuc2V0TGlrZShkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB1c2VyRGF0YTogdXNlckRhdGFcclxuICAgIH0pO1xyXG4gIHJldHVybiBjYXJkO1xyXG59O1xyXG5cclxuLy9jbGFzc2VzXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTIwL1wiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgYXV0aG9yaXphdGlvbjogXCIzYjU3MjBhMi0wZDkxLTRkMDktYjRmMC05MWRhNWI3MTU5MWZcIixcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KTtcclxuXHJcbmNvbnN0IHBvcHVwQmlnUGljdHVyZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2JpZy13aW5kb3ctcGljdHVyZScpO1xyXG5cclxuY29uc3QgcHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCAnLnBvcHVwX19mb3JtZmllbGRfcHJvZmlsZScpO1xyXG5jb25zdCBhdmF0YXJWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgJy5wb3B1cF9fZm9ybWZpZWxkX2Rvd25sb2FkLWF2YXRhcicpO1xyXG5jb25zdCBwbGFjZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCAnLnBvcHVwX19mb3JtZmllbGRfYWRkLWNhcmQnKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgY29udGFpbmVyU2VsZWN0b3I6IHBvcHVwRWRpdCxcclxuICBoYW5kbGVTdWJtaXQ6IChpbnB1dCkgPT4ge1xyXG4gICAgdG9Mb2FkKHBvcHVwRWRpdCwgdHJ1ZSk7XHJcbiAgICBhcGkuZWRpdFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogaW5wdXRbJ25hbWUtaW5wdXQnXSxcclxuICAgICAgYWJvdXQ6IGlucHV0WydhYm91dCddXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLl9pZCwgZGF0YS5uYW1lLCBkYXRhLmFib3V0LCBkYXRhLmF2YXRhcik7XHJcbiAgICAgICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIHRvTG9hZChwb3B1cEVkaXQsIGZhbHNlKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRvTG9hZChwb3B1cEVkaXQsIGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGF2YXRhckVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBjb250YWluZXJTZWxlY3RvcjogcG9wdXBFZGl0QXZhdGFyLFxyXG4gIGhhbmRsZVN1Ym1pdDogKGlucHV0KSA9PiB7XHJcbiAgICB0b0xvYWQocG9wdXBFZGl0QXZhdGFyLCB0cnVlKTtcclxuICAgIGFwaS5lZGl0QXZhdGFyKGlucHV0WydwbGFjZS1hdmF0YXInXSlcclxuICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YS5faWQsIGRhdGEubmFtZSwgZGF0YS5hYm91dCwgZGF0YS5hdmF0YXIpO1xyXG4gICAgICAgIGF2YXRhckVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIHRvTG9hZChwb3B1cEVkaXRBdmF0YXIsIGZhbHNlKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRvTG9hZChwb3B1cEVkaXRBdmF0YXIsIGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBjb250YWluZXJTZWxlY3RvcjogcHVwdXBJbml0aWFsQ2FyZHMsXHJcbiAgaGFuZGxlU3VibWl0OiAoaW5wdXQpID0+IHtcclxuICAgIHRvTG9hZChwdXB1cEluaXRpYWxDYXJkcywgdHJ1ZSk7XHJcbiAgICBhcGkuYWRkUGxhY2VDYXJkKHtcclxuICAgICAgbmFtZTogaW5wdXRbJ3BsYWNlLWlucHV0J10sXHJcbiAgICAgIGxpbms6IGlucHV0WydwbGFjZS1saW5rJ11cclxuICAgIH0pXHJcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEsICcjdGVtcCcsIHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICBjYXJkTGlzdC5hZGROZXdJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB0b0xvYWQocHVwdXBJbml0aWFsQ2FyZHMsIGZhbHNlKTtcclxuICAgICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRvTG9hZChwdXB1cEluaXRpYWxDYXJkcywgZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1EZWxldGUoe1xyXG4gIGNvbnRhaW5lclNlbGVjdG9yOiBwb3B1cERlbGV0ZSxcclxuICBoYW5kbGVTdWJtaXQ6ICh7IGVsZW1lbnQsIGNhcmRJZCB9KSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlUGxhY2VDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIGRhdGE6IHt9LFxyXG4gIHJlbmRlcmVyOiAoaXRlbSwgdXNlckRhdGEpID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0sICcjdGVtcCcsIHVzZXJEYXRhKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gIH1cclxufSwgY2FyZHNDb250YWluZXIpO1xyXG5cclxuLy9wcm9taXNlXHJcblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcclxuICAudGhlbigoW2luaXRhbENhcmRzLCB1c2VyUmVzdWx0XSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlclJlc3VsdC5faWQsIHVzZXJSZXN1bHQubmFtZSwgdXNlclJlc3VsdC5hYm91dCwgdXNlclJlc3VsdC5hdmF0YXIpO1xyXG4gICAgY2FyZExpc3Quc2V0UmVuZGVyZWRJdGVtcyhpbml0YWxDYXJkcyk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJlcih1c2VyUmVzdWx0KTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9KTtcclxuXHJcbi8vYnV0dG9uc1xyXG5yZWR1Y3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcHJvZmlsZUVkaXRQb3B1cC5vcGVuKCk7XHJcbiAgaW5wdXROYW1lLnZhbHVlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5uYW1lU2VsZWN0b3I7XHJcbiAgaW5wdXRKb2IudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLmFib3V0U2VsZWN0b3I7XHJcbiAgcHJvZmlsZVZhbGlkYXRpb24udG9SZXNldFZhbGlkaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgYXZhdGFyRWRpdFBvcHVwLm9wZW4oKTtcclxuICBpbnB1dEF2YXRhci52YWx1ZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkuYXZhdGFyU2VsZWN0b3Iuc3JjO1xyXG4gIGF2YXRhclZhbGlkYXRpb24udG9SZXNldFZhbGlkaWRhdGlvbigpO1xyXG59KVxyXG5cclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBhZGRDYXJkUG9wdXAub3BlbigpO1xyXG4gIHBsYWNlVmFsaWRhdGlvbi50b1Jlc2V0VmFsaWRpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy9ldmVudCBsaXN0ZW5lcnNcclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYXZhdGFyRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEJpZ1BpY3R1cmUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vdmFsaWRhdGlvblxyXG5wcm9maWxlVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhclZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wbGFjZVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpOyJdLCJzb3VyY2VSb290IjoiIn0=